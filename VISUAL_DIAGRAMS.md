# X-SPIN Blitz Gameplay - Visual Diagrams

## Complete Game Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          X-SPIN BLITZ GAMEPLAY                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              HOME PAGE
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚            â”‚            â”‚
                  BLITZ         1v1        GRAND PRIX
                 (15p)         (2p)         (20p)
                    â”‚            â”‚            â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                        /room/{roomId}
                                 â”‚
                        GAMEROOM MOUNTS
                                 â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚   PRE_GAME STATE         â”‚
                  â”‚   showBettingModal: true â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  [BETTING MODAL]         â”‚
                  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
                  â”‚  $ Enter bet amount      â”‚
                  â”‚  $ Balance validation    â”‚
                  â”‚  $ Error handling        â”‚
                  â”‚                          â”‚
                  â”‚  [CONFIRM] [CANCEL] â”‚
                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚          â”‚
                    Confirm     Cancel
                       â”‚          â”‚
                       â†“          â””â”€â”€â”€â”€â†’ navigate('/')
                   Deduct
                   Balance
                       â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ [COLOR ASSIGNMENT MODAL] â”‚
                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
                  â”‚                          â”‚
                  â”‚  Your Assigned Color:    â”‚
                  â”‚                          â”‚
                  â”‚     â•”â•â•â•â•â•â•â•â•â•â•â•â•—        â”‚
                  â”‚     â•‘   RED â—   â•‘        â”‚
                  â”‚     â•‘ #FF0000   â•‘        â”‚
                  â”‚     â•šâ•â•â•â•â•â•â•â•â•â•â•â•        â”‚
                  â”‚                          â”‚
                  â”‚  [ENTER GAME ROOM]  â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
                     setBetsPlaced = true
                           â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ INITIALIZE 15 PLAYERS    â”‚
                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
                  â”‚                          â”‚
                  â”‚ â€¢ 14 Bots (various rank)â”‚
                  â”‚ â€¢ 1 You (user rank)     â”‚
                  â”‚ â€¢ All assigned colors   â”‚
                  â”‚ â€¢ All with bet amounts  â”‚
                  â”‚ â€¢ All CONFIRMED status  â”‚
                  â”‚                          â”‚
                  â”‚ Chat: "â³ 15 PLAYERS    â”‚
                  â”‚        READY..."        â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                  setGameState(WAITING)
                           â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚    WAITING STATE         â”‚
                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
                  â”‚ Timer: 3 seconds         â”‚
                  â”‚ Status: "PLAYERS READY"  â”‚
                  â”‚                          â”‚
                  â”‚ UI Elements:             â”‚
                  â”‚ â€¢ 3s Countdown timer     â”‚
                  â”‚ â€¢ Players list (15/15)   â”‚
                  â”‚ â€¢ Colors assigned        â”‚
                  â”‚ â€¢ Chat updates           â”‚
                  â”‚ â€¢ Sidebar with players   â”‚
                  â”‚                          â”‚
                  â”‚ 3... 2... 1... GO!       â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                  setGameState(LOCKED)
                           â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚    LOCKED STATE              â”‚
                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
                  â”‚ Timer: 3 seconds             â”‚
                  â”‚ Status: "ğŸ”’ ROOM LOCKED"    â”‚
                  â”‚                             â”‚
                  â”‚ UI Elements:                 â”‚
                  â”‚ â€¢ Lock icon displayed        â”‚
                  â”‚ â€¢ 3s Countdown timer         â”‚
                  â”‚ â€¢ Total Pot: $750            â”‚
                  â”‚ â€¢ Chat: "SPINNING STARTS..."â”‚
                  â”‚ â€¢ Sound: Lock effect         â”‚
                  â”‚                             â”‚
                  â”‚ Actions:                     â”‚
                  â”‚ â€¢ Capture current pot amountâ”‚
                  â”‚ â€¢ No new players allowed    â”‚
                  â”‚ â€¢ All players ready        â”‚
                  â”‚                             â”‚
                  â”‚ 3... 2... 1...              â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                  setGameState(SPINNING)
                           â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚    SPINNING STATE            â”‚
                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
                  â”‚ Duration: 5-10 seconds       â”‚
                  â”‚                             â”‚
                  â”‚ UI Elements:                 â”‚
                  â”‚ â€¢ Wheel rotates              â”‚
                  â”‚ â€¢ Sound effects              â”‚
                  â”‚ â€¢ Pointer at top             â”‚
                  â”‚ â€¢ All segments visible       â”‚
                  â”‚ â€¢ Chat idle                  â”‚
                  â”‚                             â”‚
                  â”‚ Pre-determined:              â”‚
                  â”‚ â€¢ targetIndex already set   â”‚
                  â”‚ â€¢ Winner already known      â”‚
                  â”‚ â€¢ Animation for suspense    â”‚
                  â”‚                             â”‚
                  â”‚ ğŸ¡ Spinning... ğŸ¡            â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                  onSpinEnd() called
                           â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚    RESULT STATE              â”‚
                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
                  â”‚ Duration: 6 seconds          â”‚
                  â”‚                             â”‚
                  â”‚ Process:                     â”‚
                  â”‚ 1. Get result from target   â”‚
                  â”‚ 2. Find winner by color     â”‚
                  â”‚ 3. Calculate payout         â”‚
                  â”‚ 4. Update balance           â”‚
                  â”‚ 5. Show winner alert        â”‚
                  â”‚ 6. Announce in chat         â”‚
                  â”‚                             â”‚
                  â”‚ Display:                     â”‚
                  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                  â”‚ â”‚     ğŸ† WINNER! ğŸ†     â”‚ â”‚
                  â”‚ â”‚   {Winner Name}         â”‚ â”‚
                  â”‚ â”‚   +${Winnings}          â”‚ â”‚
                  â”‚ â”‚                         â”‚ â”‚
                  â”‚ â”‚   Confetti animation    â”‚ â”‚
                  â”‚ â”‚   Glow effect           â”‚ â”‚
                  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                  â”‚                             â”‚
                  â”‚ Chat: "ğŸ† WINNER: {Name}" â”‚
                  â”‚                             â”‚
                  â”‚ Wait 6 seconds...            â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                  setGameState(WAITING)
                  setWinnerAlert(null)
                           â”‚
                  Reset player colors/bets
                           â”‚
                           â””â”€â”€â†’ Back to WAITING
                               (next round starts)


                        BALANCE UPDATE TIMELINE

    Start: $1,000
        â”‚
    User clicks BLITZ
        â”‚
    BettingModal shows
        â”‚
    User places $50 bet
        â”‚
    User clicks CONFIRM
        â”‚
    Balance deducted immediately!
        â”œâ†’ Balance: $950 âœ“
        â”‚
    ColorAssignmentModal shows
        â”‚
    User clicks ENTER GAME ROOM
        â”‚
    Players initialized, game starts
        â”‚
    Game progresses... WAITING â†’ LOCKED â†’ SPINNING
        â”‚
    Wheel stops on RED
        â”‚
    RED is user's assigned color
        â”‚
    User WINS! ğŸ‰
        â”‚
    Balance updated
        â”œâ†’ Balance: $950 + $1,000 (winnings)
        â”œâ†’ Total: $1,950 âœ“
        â”‚
    Winner Alert displays
        â”‚
    6 second delay
        â”‚
    Next round starts
```

---

## State Transition Diagram

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  PRE_GAME   â”‚
                    â”‚   (init)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                      BettingModal
                      confirmed
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ COLOR_ASSIGN  â”‚
                    â”‚   (display)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                      Player confirm
                    (betsPlaced=true)
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   WAITING     â”‚
                    â”‚   (3s timer)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                      Countdown=0
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   LOCKED      â”‚
                    â”‚   (3s timer)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                      Countdown=0
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  SPINNING     â”‚
                    â”‚  (5-10s anim) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                      Spin complete
                    (onSpinEnd)
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   RESULT      â”‚
                    â”‚   (1-6s show) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                      Display clear
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   WAITING     â”‚â—„â”€â”€â”€â”€â”
                    â”‚  (next round) â”‚     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
                           â”‚              â”‚
                      Countdown=0         â”‚
                           â”‚              â”‚
                    Repeat cycle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Multiple rounds can occur before exit
```

---

## Component Interaction Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       APP COMPONENT                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â€¢ user: User                                           â”‚   â”‚
â”‚ â”‚ â€¢ balance: number (state)                              â”‚   â”‚
â”‚ â”‚ â€¢ handleJoinGame(roomId)                               â”‚   â”‚
â”‚ â”‚ â€¢ handleUpdateBalance(amount)                          â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   GAMEROOM COMPONENT                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Props:                                                 â”‚   â”‚
â”‚ â”‚ â€¢ user: User                                           â”‚   â”‚
â”‚ â”‚ â€¢ updateBalance(amount): callback                      â”‚   â”‚
â”‚ â”‚ â€¢ roomId: string                                       â”‚   â”‚
â”‚ â”‚                                                         â”‚   â”‚
â”‚ â”‚ State:                                                 â”‚   â”‚
â”‚ â”‚ â€¢ showBettingModal, userBetAmount                      â”‚   â”‚
â”‚ â”‚ â€¢ betsPlaced, showColorAssignment                      â”‚   â”‚
â”‚ â”‚ â€¢ gameState, players, timer                            â”‚   â”‚
â”‚ â”‚ â€¢ currentPot, chatHistory                              â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ BettingModal     â”‚  â”‚ ColorAssignModal â”‚                 â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚                 â”‚
â”‚  â”‚ Props:           â”‚  â”‚ Props:           â”‚                 â”‚
â”‚  â”‚ â€¢ isOpen         â”‚  â”‚ â€¢ isOpen         â”‚                 â”‚
â”‚  â”‚ â€¢ userBalance    â”‚  â”‚ â€¢ assignedColor  â”‚                 â”‚
â”‚  â”‚ â€¢ gameMode       â”‚  â”‚ â€¢ playerName     â”‚                 â”‚
â”‚  â”‚ â€¢ onConfirm      â”‚  â”‚ â€¢ gameMode       â”‚                 â”‚
â”‚  â”‚ â€¢ onCancel       â”‚  â”‚ â€¢ onConfirm      â”‚                 â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚                 â”‚
â”‚  â”‚ Returns:         â”‚  â”‚ Returns:         â”‚                 â”‚
â”‚  â”‚ â†’ Deduct balance â”‚  â”‚ â†’ Start game     â”‚                 â”‚
â”‚  â”‚ â†’ Show next modalâ”‚  â”‚ â†’ Init players   â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚           Game Loop (SpinWheel + Chat)              â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚  WAITING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚    â”‚
â”‚  â”‚     â”‚                                              â”‚    â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  LOCKED                                            â”‚    â”‚
â”‚  â”‚     â”‚                                              â”‚    â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  SPINNING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚    â”‚
â”‚  â”‚     â”‚                                              â”‚    â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  RESULT                                            â”‚    â”‚
â”‚  â”‚     â”‚                                              â”‚    â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                    â”‚    â”‚
â”‚  â”‚  Sidebar (Players)        Chat (AI Oracle)        â”‚    â”‚
â”‚  â”‚  â€¢ Player avatars         â€¢ Game messages         â”‚    â”‚
â”‚  â”‚  â€¢ Bet amounts            â€¢ AI responses          â”‚    â”‚
â”‚  â”‚  â€¢ Rank indicators        â€¢ User messages         â”‚    â”‚
â”‚  â”‚  â€¢ Status checkmarks      â€¢ Live commentary       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagram

```
                    User Input
                        â”‚
                    â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”
                    â”‚         â”‚
            Bet Confirmation   Color Confirm
                    â”‚         â”‚
                    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                        â”‚
                Balance Deduction
                        â”‚
                    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Game Initializationâ”‚
                    â”‚ Players, Bots, Pot â”‚
                    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                Game State Progression
                        â”‚
                        â”œâ†’ WAITING (3s)
                        â”œâ†’ LOCKED (3s)
                        â”œâ†’ SPINNING (5-10s)
                        â”œâ†’ RESULT (1-6s)
                        â”‚
                    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Determine Winner â”‚
                    â”‚ (color matching) â”‚
                    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                    â”Œâ”€â”€â”€â–´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                   â”‚
                User Wins            User Loses
                    â”‚                   â”‚
            Balance += Payout      (already deducted)
                    â”‚                   â”‚
                    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                Display Alert
                        â”‚
                Chat Announcement
                        â”‚
                6 second delay
                        â”‚
                Reset for next round


                    STATE MACHINE

                â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                â•‘    PRE_GAME STATE   â•‘
                â•‘  (Initial State)    â•‘
                â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         â”‚
                    [Betting Modal]
                         â”‚
                â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                â•‘  COLOR_ASSIGN STATE â•‘
                â•‘  (Show Color Modal) â•‘
                â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         â”‚
                    [Color Confirm]
                         â”‚
                â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                â•‘   WAITING STATE     â•‘
                â•‘  (3s Countdown)     â•‘
                â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         â”‚
                    [Timer reaches 0]
                         â”‚
                â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                â•‘   LOCKED STATE      â•‘
                â•‘  (3s Countdown)     â•‘
                â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         â”‚
                    [Timer reaches 0]
                         â”‚
                â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                â•‘  SPINNING STATE     â•‘
                â•‘ (5-10s Animation)   â•‘
                â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         â”‚
                    [Spin Complete]
                         â”‚
                â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                â•‘   RESULT STATE      â•‘
                â•‘   (Display Winner)  â•‘
                â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         â”‚
                    [6s Delay]
                         â”‚
                    [Loop back to]
                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ WAITING
```

---

## Balance Calculation Examples

### Example 1: User Wins
```
Balance Start: $1,000
Place Bet: $50
â”œâ†’ Balance after betting modal: $950

Game Progresses...

User WINS (color matches)
â”œâ†’ Pot = $750 (all confirmed players' bets)
â”œâ†’ Payout = $750 (pot amount Ã— 1, simplified)
â”œâ†’ Balance final = $950 + $750 = $1,700
```

### Example 2: User Loses
```
Balance Start: $1,000
Place Bet: $75
â”œâ†’ Balance after betting modal: $925

Game Progresses...

Another player WINS
â”œâ†’ Balance final = $925 (already deducted, no change)
```

### Example 3: Multiple Rounds
```
Round 1: Start with $1,000
â”œâ†’ Bet $50 â†’ $950
â”œâ†’ Win $750 â†’ $1,700

Round 2: Start with $1,700
â”œâ†’ Bet $100 â†’ $1,600
â”œâ†’ Lose â†’ $1,600

Round 3: Start with $1,600
â”œâ†’ Bet $80 â†’ $1,520
â”œâ†’ Win $600 â†’ $2,120

Final Balance: $2,120
```

---

## Socket/Network Diagram (Future Implementation)

```
Client (Web Browser)          Server (Game Backend)
        â”‚                               â”‚
        â”‚â”€â”€â”€ User places bet â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
        â”‚                               â”‚
        â”‚â—„â”€â”€â”€â”€ Confirm deduction â”€â”€â”€â”€â”€â”€â”‚
        â”‚                               â”‚
        â”‚â”€â”€â”€ Color assignment â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
        â”‚                               â”‚
        â”‚â—„â”€â”€â”€â”€ Color confirmed â”€â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚                               â”‚
        â”‚â”€â”€â”€ Init game â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
        â”‚                               â”‚
        â”‚â—„â”€â”€â”€â”€ 14 bots created â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚                               â”‚
        â”‚â”€â”€â”€ Game state: WAITING â”€â”€â”€â”€â†’â”‚
        â”‚                               â”‚
        â”‚â—„â”€â”€â”€â”€ Timer: 3, 2, 1 â”€â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚                               â”‚
        â”‚â”€â”€â”€ Game state: LOCKED â”€â”€â”€â”€â”€â†’â”‚
        â”‚                               â”‚
        â”‚â—„â”€â”€â”€â”€ Timer: 3, 2, 1 â”€â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚                               â”‚
        â”‚â”€â”€â”€ Game state: SPINNING â”€â”€â”€â†’â”‚
        â”‚                               â”‚
        â”‚â—„â”€â”€â”€â”€ Wheel target index â”€â”€â”€â”€â”‚
        â”‚                               â”‚
        â”‚â”€â”€â”€ Game state: RESULT â”€â”€â”€â”€â”€â†’â”‚
        â”‚                               â”‚
        â”‚â—„â”€â”€â”€â”€ Winner: {color} â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚                               â”‚
        â”‚â—„â”€â”€â”€â”€ Balance update â”€â”€â”€â”€â”€â”€â”€â”€â”‚
        â”‚                               â”‚
        â”‚â”€â”€â”€ Reset players â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
        â”‚                               â”‚
        â””â”€â”€ Continue next round â”€â”€â”€â”€â”€â”€â†’â”‚
```

---

## UI Layout Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HEADER (Exit Button)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          â”‚                                            â”‚
â”‚    WHEEL DISPLAY         â”‚          GAME INFO & TIMER                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚             â”‚        â”‚   â”‚  STATE: LOCKED               â”‚        â”‚
â”‚   â”‚  â•”â•â•â•â•â•â•—    â”‚        â”‚   â”‚  TIMER: 3s                   â”‚        â”‚
â”‚   â”‚  â•‘  â—  â•‘    â”‚        â”‚   â”‚  PLAYERS: 15/15 âœ“            â”‚        â”‚
â”‚   â”‚  â•‘  â—„  â•‘    â”‚        â”‚   â”‚  POT: $750                   â”‚        â”‚
â”‚   â”‚  â•šâ•â•â•â•â•â•    â”‚        â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚   â”‚             â”‚        â”‚                                            â”‚
â”‚   â”‚   (spinning)â”‚        â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚  YOUR COLOR:                 â”‚        â”‚
â”‚                          â”‚   â”‚  [RED â—]                     â”‚        â”‚
â”‚   CHAT PANEL            â”‚   â”‚  Status: READY âœ“             â”‚        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚  Bet: $50 (locked)           â”‚        â”‚
â”‚   â”‚ ORACLE: ğŸ”’  â”‚        â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚   â”‚ ROOM LOCKED â”‚        â”‚                                            â”‚
â”‚   â”‚             â”‚        â”‚                                            â”‚
â”‚   â”‚ YOU: Let's  â”‚        â”‚   PLAYER LIST (Sidebar)                   â”‚
â”‚   â”‚ win!        â”‚        â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚             â”‚        â”‚   â”‚ 15 CONNECTED                 â”‚        â”‚
â”‚   â”‚ ...         â”‚        â”‚   â”‚                              â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚ ğŸ‘¤ YOU (MASTER) $50 âœ“       â”‚        â”‚
â”‚                          â”‚   â”‚ ğŸ‘¤ BlitzBot1 (PRO) $150 âœ“   â”‚        â”‚
â”‚   ACTION CONSOLE        â”‚   â”‚ ğŸ‘¤ BlitzBot2 (ROOKIE) $75 âœ“â”‚        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚ ğŸ‘¤ BlitzBot3 (LEGEND) $200 âœ“â”‚        â”‚
â”‚   â”‚ WAITING FOR â”‚        â”‚   â”‚ ...                          â”‚        â”‚
â”‚   â”‚ SPIN START  â”‚        â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚                                            â”‚
â”‚                          â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Color Assignment Visualization

```
BLITZ MODE (15 Players):

maxPlayers = 15
userColorIndex = (15 - 1) % 12 = 14 % 12 = 2

COLORS = [
  0: 'red',
  1: 'blue',
  2: 'green',      â† USER GETS GREEN
  3: 'yellow',
  4: 'purple',
  5: 'orange',
  6: 'pink',
  7: 'cyan',
  8: 'lime',
  9: 'magenta',
  10: 'teal',
  11: 'gold',
]

Bot Colors:
  Bot 0: colors[0 % 12] = 'red'
  Bot 1: colors[1 % 12] = 'blue'
  Bot 2: colors[2 % 12] = 'green'
  Bot 3: colors[3 % 12] = 'yellow'
  ...
  Bot 13: colors[13 % 12] = colors[1] = 'blue'
  User: colors[14 % 12] = colors[2] = 'green'

Result:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ All 15 players assigned colors  â”‚
  â”‚ Each color matches on wheel     â”‚
  â”‚ Winner determined by color      â”‚
  â”‚ Pot goes to color winner        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Diagrams Version**: 1.0
**Date**: December 24, 2025
**Status**: Complete
